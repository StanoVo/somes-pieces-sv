workspace:
  name: somes-pieces
  description: |
    SoMES solar‑forecasting pipeline.
    • Fetch data from Solargis
    • Preprocess
    • Train XGBoost model
    • Run forecast
    • Evaluate & plot results
    • Register model in Domino
    • Notify team via webhook
  version: 0.1.0                     # optional – you can bump this later
  pieces:
    - FetchSolargisDataPiece
    - PreprocessSolargisPiece
    - TrainXGBoostPiece
    - RunSolarForecastPiece
    - EvaluateAndPlotPiece
    - RegisterModelPiece
    - NotifyTeamPiece
  # Optional: default input values for each piece (useful for quick testing)
  defaults:
    FetchSolargisDataPiece:
      s3_path: "s3://my-bucket/solargis"
      output_path: "data/raw"
    PreprocessSolargisPiece:
      input_path: "data/raw"
      output_path: "data/processed"
    TrainXGBoostPiece:
      data_path: "data/processed"
      model_out: "models/xgboost.pkl"
      log_out: "logs/train.log"
    RunSolarForecastPiece:
      model_path: "models/xgboost.pkl"
      features_csv: "data/features.csv"
      output_csv: "data/forecast.csv"
      output_plot: "plots/forecast.png"
    EvaluateAndPlotPiece:
      data_path: "data/forecast.csv"
      metrics_out: "metrics/report.json"
      plot_out: "plots/eval.png"
      model_path: "models/xgboost.pkl"
    RegisterModelPiece:
      model_path: "models/xgboost.pkl"
      metrics_path: "metrics/report.json"
      name: "SoMES Forecast Model"
      description: "XGBoost model trained on Solargis data"
    NotifyTeamPiece:
      metrics_path: "metrics/report.json"
      webhook_url: "https://hooks.example.com/notify"